[gd_scene load_steps=38 format=3 uid="uid://b651dluwrvggx"]

[ext_resource type="Script" uid="uid://dce42qthirrx6" path="res://scripts/ps_play_scene.gd" id="1_dta8y"]
[ext_resource type="Texture2D" uid="uid://boemdo31mm14u" path="res://assets/sprites/Background.png" id="2_053dl"]
[ext_resource type="Script" uid="uid://wderf66mpnyq" path="res://scripts/ps_back_to_mm.gd" id="2_63tcr"]
[ext_resource type="Texture2D" uid="uid://b2vim7ocxujab" path="res://assets/sprites/BarTransparent.png" id="3_5kjkg"]
[ext_resource type="Theme" uid="uid://8pav1lism70y" path="res://assets/main_theme.tres" id="3_bx6jv"]
[ext_resource type="Script" uid="uid://ccwy77fp00bdg" path="res://scripts/ps_red_pile_controller.gd" id="3_qhxom"]
[ext_resource type="Texture2D" uid="uid://db6rcibakwevb" path="res://assets/sprites/Temp_PinkPeanuts_Dark.png" id="4_dta8y"]
[ext_resource type="Texture2D" uid="uid://cdv61ddeyu1lm" path="res://assets/sprites/Temp_PinkPeanuts_Light.png" id="5_bx6jv"]
[ext_resource type="AudioStream" uid="uid://d32vvurvuiw4p" path="res://assets/sounds/Noisy Click.mp3" id="5_ixvqh"]
[ext_resource type="Script" uid="uid://c1vciwlybtuhe" path="res://scripts/ps_green_pile_controller.gd" id="6_ixvqh"]
[ext_resource type="Texture2D" uid="uid://dgw5qecaqmyfq" path="res://assets/sprites/Temp_GreenPeanuts_Dark.png" id="7_hjngv"]
[ext_resource type="Texture2D" uid="uid://cu4limpy32nv5" path="res://assets/sprites/Temp_GreenPeanuts_Light.png" id="8_4uj4s"]
[ext_resource type="Script" uid="uid://cjrmf1rhd4l3d" path="res://scripts/ps_yellow_pile_controller.gd" id="9_bnnba"]
[ext_resource type="AudioStream" uid="uid://4bavppqkyohg" path="res://assets/sounds/peanutGrabSound.mp3" id="9_hjngv"]
[ext_resource type="Texture2D" uid="uid://dp6anid672owo" path="res://assets/sprites/Temp_YellowPeanuts_Dark.png" id="10_6sm6u"]
[ext_resource type="Texture2D" uid="uid://bkbw5a5s5rq5g" path="res://assets/sprites/Temp_YellowPeanuts_Light.png" id="11_053dl"]
[ext_resource type="Script" uid="uid://d2bs8wm5tshu1" path="res://scripts/ps_active_plate_controller.gd" id="12_5kjkg"]
[ext_resource type="Texture2D" uid="uid://dbt73sm3ut4h1" path="res://assets/sprites/Temp_LeafPlate.png" id="13_ki1q6"]
[ext_resource type="Script" uid="uid://bsyibk0aeq3y7" path="res://scripts/ps_clear_plate_button.gd" id="14_63tcr"]
[ext_resource type="Script" uid="uid://bct8t502ubqkw" path="res://scripts/ps_submit_order_button.gd" id="15_qhxom"]
[ext_resource type="AudioStream" uid="uid://drb1bm713ukd7" path="res://assets/sounds/BinSound.mp3" id="19_4uj4s"]
[ext_resource type="Texture2D" uid="uid://cgqn48oliga62" path="res://assets/sprites/BinBasket.png" id="19_ki1q6"]
[ext_resource type="Texture2D" uid="uid://ba4fxgdenysur" path="res://assets/sprites/LeafPlateHover.png" id="19_nu7cg"]
[ext_resource type="AudioStream" uid="uid://bhsld6jh854wj" path="res://assets/sounds/singlePeanutRemoveSFX.mp3" id="20_wbuyy"]
[ext_resource type="Texture2D" uid="uid://bg14s1yst6oj0" path="res://assets/icons/CheckMarkIcon.png" id="21_5kjkg"]
[ext_resource type="AudioStream" uid="uid://obhv0hj6ljvf" path="res://assets/sounds/correctSoundEffect.mp3" id="21_bnnba"]
[ext_resource type="AudioStream" uid="uid://ch5awjf3wxilx" path="res://assets/sounds/incorrectSoundEffect.mp3" id="22_6sm6u"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_5mqgq"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_jko1l"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_7ytk0"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_kg8u5"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_1ci3g"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_ki1q6"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_nu7cg"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_wbuyy"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_q08at"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_h65fk"]

[node name="play_scene" type="Node2D"]
z_index = 3
script = ExtResource("1_dta8y")

[node name="ps_background" type="Sprite2D" parent="."]
position = Vector2(576, 324)
texture = ExtResource("2_053dl")
metadata/_edit_lock_ = true

[node name="ps_foreground" type="Sprite2D" parent="."]
z_index = 2
position = Vector2(576, 324)
texture = ExtResource("3_5kjkg")
metadata/_edit_lock_ = true

[node name="ps_back_to_mm" type="Button" parent="."]
z_index = 3
offset_left = 50.0
offset_top = 50.0
offset_right = 105.0
offset_bottom = 86.0
theme = ExtResource("3_bx6jv")
theme_override_font_sizes/font_size = 40
text = "Back"
script = ExtResource("2_63tcr")
metadata/_edit_lock_ = true

[node name="ButtonClick" type="AudioStreamPlayer" parent="ps_back_to_mm"]
stream = ExtResource("5_ixvqh")
bus = &"SFX"

[node name="ps_red_pile_controller" type="Area2D" parent="."]
z_index = 3
script = ExtResource("3_qhxom")
default_texture = ExtResource("4_dta8y")
hover_texture = ExtResource("5_bx6jv")

[node name="ps_red_pile_sprite" type="Sprite2D" parent="ps_red_pile_controller"]
position = Vector2(866, 346)
texture = ExtResource("4_dta8y")
metadata/_edit_lock_ = true

[node name="ps_red_pile_shape" type="CollisionPolygon2D" parent="ps_red_pile_controller"]
visible = false
polygon = PackedVector2Array(809, 348, 820, 319, 835, 311, 856, 309, 875, 314, 905, 337, 927, 345, 936, 357, 936, 372, 928, 383, 901, 388, 882, 391, 865, 395, 843, 396, 828, 393, 811, 386, 800, 382, 793, 369, 797, 357)

[node name="AddPeanutSFX" type="AudioStreamPlayer" parent="ps_red_pile_controller"]
stream = ExtResource("9_hjngv")
bus = &"SFX"

[node name="ps_green_pile_controller2" type="Area2D" parent="."]
z_index = 3
script = ExtResource("6_ixvqh")
default_texture = ExtResource("7_hjngv")
hover_texture = ExtResource("8_4uj4s")

[node name="ps_green_pile_sprite" type="Sprite2D" parent="ps_green_pile_controller2"]
position = Vector2(708, 348)
texture = ExtResource("7_hjngv")
metadata/_edit_lock_ = true

[node name="ps_green_pile_shape" type="CollisionPolygon2D" parent="ps_green_pile_controller2"]
visible = false
polygon = PackedVector2Array(651, 350, 662, 321, 677, 313, 698, 311, 717, 316, 747, 339, 769, 347, 778, 359, 778, 374, 770, 385, 743, 390, 724, 393, 707, 397, 685, 398, 670, 395, 653, 388, 642, 384, 635, 371, 639, 359)
metadata/_edit_lock_ = true

[node name="AddPeanutSFX" type="AudioStreamPlayer" parent="ps_green_pile_controller2"]
stream = ExtResource("9_hjngv")
bus = &"SFX"

[node name="ps_yellow_pile_controller2" type="Area2D" parent="."]
z_index = 3
script = ExtResource("9_bnnba")
default_texture = ExtResource("10_6sm6u")
hover_texture = ExtResource("11_053dl")

[node name="ps_yellow_pile_sprite" type="Sprite2D" parent="ps_yellow_pile_controller2"]
position = Vector2(552, 350)
texture = ExtResource("10_6sm6u")
metadata/_edit_lock_ = true

[node name="ps_yellow_pile_shape" type="CollisionPolygon2D" parent="ps_yellow_pile_controller2"]
visible = false
position = Vector2(-315, 6)
polygon = PackedVector2Array(810, 347, 821, 318, 836, 310, 857, 308, 876, 313, 906, 336, 928, 344, 937, 356, 937, 371, 929, 382, 902, 387, 883, 390, 866, 394, 844, 395, 829, 392, 812, 385, 801, 381, 794, 368, 798, 356)
metadata/_edit_lock_ = true

[node name="AddPeanutSFX" type="AudioStreamPlayer" parent="ps_yellow_pile_controller2"]
stream = ExtResource("9_hjngv")
bus = &"SFX"

[node name="ps_active_plate_controller" type="Area2D" parent="."]
z_index = 3
script = ExtResource("12_5kjkg")
default_texture = ExtResource("13_ki1q6")
hover_texture = ExtResource("19_nu7cg")

[node name="ps_active_plate_sprite" type="Sprite2D" parent="ps_active_plate_controller"]
position = Vector2(277, 385)
texture = ExtResource("13_ki1q6")
metadata/_edit_lock_ = true

[node name="ps_active_plate_shape" type="CollisionPolygon2D" parent="ps_active_plate_controller"]
visible = false
polygon = PackedVector2Array(230, 362, 238, 349, 257, 347, 267, 349, 289, 355, 315, 377, 340, 395, 348, 408, 344, 412, 324, 421, 307, 424, 274, 424, 245, 418, 225, 408, 211, 384, 212, 371, 219, 365)
metadata/_edit_lock_ = true

[node name="removeSinglePeanutSFX" type="AudioStreamPlayer" parent="ps_active_plate_controller"]
stream = ExtResource("20_wbuyy")
bus = &"SFX"

[node name="ps_clear_plate_button" type="Button" parent="."]
z_index = 3
offset_left = 314.0
offset_top = 455.0
offset_right = 452.0
offset_bottom = 662.0
theme = ExtResource("3_bx6jv")
theme_override_font_sizes/font_size = 25
theme_override_styles/normal = SubResource("StyleBoxEmpty_5mqgq")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_jko1l")
theme_override_styles/hover = SubResource("StyleBoxEmpty_7ytk0")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_kg8u5")
theme_override_styles/focus = SubResource("StyleBoxEmpty_1ci3g")
icon = ExtResource("19_ki1q6")
script = ExtResource("14_63tcr")
metadata/_edit_lock_ = true

[node name="BinSFX" type="AudioStreamPlayer" parent="ps_clear_plate_button"]
stream = ExtResource("19_4uj4s")
bus = &"SFX"

[node name="ps_submit_order_button" type="Button" parent="."]
z_index = 3
offset_left = 367.0
offset_top = 352.0
offset_right = 415.0
offset_bottom = 403.0
theme = ExtResource("3_bx6jv")
theme_override_font_sizes/font_size = 27
theme_override_styles/normal = SubResource("StyleBoxEmpty_ki1q6")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_nu7cg")
theme_override_styles/hover = SubResource("StyleBoxEmpty_wbuyy")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_q08at")
theme_override_styles/focus = SubResource("StyleBoxEmpty_h65fk")
icon = ExtResource("21_5kjkg")
icon_alignment = 1
script = ExtResource("15_qhxom")
metadata/_edit_lock_ = true

[node name="AddPeanutSFX" type="AudioStreamPlayer" parent="ps_submit_order_button"]
stream = ExtResource("9_hjngv")
bus = &"SFX"

[node name="correctSoundEffect" type="AudioStreamPlayer" parent="ps_submit_order_button"]
stream = ExtResource("21_bnnba")
bus = &"SFX"

[node name="incorrectSoundEffect" type="AudioStreamPlayer" parent="ps_submit_order_button"]
stream = ExtResource("22_6sm6u")
bus = &"SFX"

[node name="order_result_message" type="Label" parent="ps_submit_order_button"]
visible = false
layout_mode = 0
offset_right = 40.0
offset_bottom = 55.0

[node name="ps_day_info_overlay" type="Control" parent="."]
z_index = 3
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
metadata/_edit_use_anchors_ = true

[node name="customer_number_display" type="Label" parent="ps_day_info_overlay"]
layout_mode = 0
offset_left = 268.0
offset_top = 59.0
offset_right = 308.0
offset_bottom = 99.0
theme = ExtResource("3_bx6jv")
theme_override_font_sizes/font_size = 40
metadata/_edit_use_anchors_ = true

[connection signal="pressed" from="ps_back_to_mm" to="ps_back_to_mm" method="_on_pressed"]
[connection signal="finished" from="ps_back_to_mm/ButtonClick" to="ps_back_to_mm" method="_on_button_click_finished"]
[connection signal="mouse_entered" from="ps_red_pile_controller" to="ps_red_pile_controller" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="ps_red_pile_controller" to="ps_red_pile_controller" method="_on_mouse_exited"]
[connection signal="mouse_entered" from="ps_green_pile_controller2" to="ps_green_pile_controller2" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="ps_green_pile_controller2" to="ps_green_pile_controller2" method="_on_mouse_exited"]
[connection signal="mouse_entered" from="ps_yellow_pile_controller2" to="ps_yellow_pile_controller2" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="ps_yellow_pile_controller2" to="ps_yellow_pile_controller2" method="_on_mouse_exited"]
[connection signal="mouse_entered" from="ps_active_plate_controller" to="ps_active_plate_controller" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="ps_active_plate_controller" to="ps_active_plate_controller" method="_on_mouse_exited"]
[connection signal="mouse_entered" from="ps_clear_plate_button" to="ps_clear_plate_button" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="ps_clear_plate_button" to="ps_clear_plate_button" method="_on_mouse_exited"]
[connection signal="pressed" from="ps_clear_plate_button" to="ps_clear_plate_button" method="_on_pressed"]
[connection signal="mouse_entered" from="ps_submit_order_button" to="ps_submit_order_button" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="ps_submit_order_button" to="ps_submit_order_button" method="_on_mouse_exited"]
[connection signal="pressed" from="ps_submit_order_button" to="ps_submit_order_button" method="_on_pressed"]
